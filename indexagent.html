<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="./style.css" />
		<title>Agent Test Environment</title>
	</head>

	<body>
		<div id="div1"></div>
		
		<!-- Line of Sight System UI -->
		<div id="losUI" style="position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 12px; display: block;">
			<h3 style="margin: 0 0 10px 0;">Agent Test Environment</h3>
			<button id="resetButton" onclick="window.location.reload()" style="background: #ff4444; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; margin-bottom: 10px;">Reset Scene</button>
			<div id="agentScores">Loading scores...</div>
			<div style="margin-top: 10px; font-size: 10px;">
				Free-roam camera controls<br>
				Mouse: Look around<br>
				Scroll: Zoom in/out
			</div>
		</div>
		
	<script type="importmap">
		{
			"imports": {
				"three": "https://unpkg.com/three@0.161.0/build/three.module.js",
				"three/addons/": "https://unpkg.com/three@0.161.0/examples/jsm/"
			}
		}
	</script>

	<script type="module">
		import * as THREE from 'three';
		import { OBJLoader } from 'three/addons/loaders/OBJLoader.js';
		import { MTLLoader } from 'three/addons/loaders/MTLLoader.js';
		import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
		import { CriticalPointSystem, CP_COLORS } from './critical-point-system.js';
		
		// Expose Three.js and related systems to global scope (exactly like indexjake.html)
		window.THREE = THREE;
		window.OBJLoader = OBJLoader;
		window.MTLLoader = MTLLoader;
		window.CriticalPointSystem = CriticalPointSystem;
		window.CP_COLORS = CP_COLORS;
		
		console.log('Three.js, loaders, and Critical Point System loaded successfully');
	</script>

	<script src="AgentTestMain.js" type="module" defer></script>
	</body>
</html>
