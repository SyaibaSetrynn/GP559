<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="./style.css" />
	</head>

	<body>
		<div id="div1"></div>
		<div id="menuOverlay">
			<div id="startText">Click to Start</div>
		</div>
		
		<!-- Line of Sight System UI -->
		<div id="losUI" style="position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 12px; display: none;">
			<h3 style="margin: 0 0 10px 0;">Line of Sight System</h3>
			<div id="agentScores">Loading scores...</div>
			<div style="margin-top: 10px; font-size: 10px;">
				Press 'P' to print scores<br>
				Press 'L' to toggle this display
			</div>
		</div>
		
	<script type="importmap">
		{
			"imports": {
				"three": "https://unpkg.com/three@0.161.0/build/three.module.js",
				"three/addons/": "https://unpkg.com/three@0.161.0/examples/jsm/"
			}
		}
	</script>

	<script type="module">
		import * as THREE from 'three';
		import { OBJLoader } from 'three/addons/loaders/OBJLoader.js';
		import { MTLLoader } from 'three/addons/loaders/MTLLoader.js';
		import { CriticalPointSystem, CP_COLORS } from './critical-point-system.js';
		
		// Expose Three.js and related systems to global scope
		window.THREE = THREE;
		window.OBJLoader = OBJLoader;
		window.MTLLoader = MTLLoader;
		window.CriticalPointSystem = CriticalPointSystem;
		window.CP_COLORS = CP_COLORS;
		
		console.log('Three.js, loaders, and Critical Point System loaded successfully');
	</script>

	<script src="Player.js" type="module" defer></script>
	</body>